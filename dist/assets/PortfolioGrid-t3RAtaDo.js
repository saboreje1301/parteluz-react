import{r as l,j as e,u as f,a as b}from"./index-BWeigsNM.js";function p({images:t=[],alt:n=""}){const[s,o]=l.useState(0);if(!t.length)return null;const c=()=>o(a=>a===0?t.length-1:a-1),d=()=>o(a=>a===t.length-1?0:a+1);return e.jsxs("div",{className:"relative flex items-center justify-center ",children:[e.jsx("button",{onClick:c,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-2 z-10","aria-label":"Anterior",children:"←"}),e.jsx("div",{className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 flex items-center justify-center",children:e.jsx("picture",{children:e.jsx("img",{src:t[s],alt:`${n} ${s+1}`,className:"flex items-center justify-center size-9/12 object-cover rounded-lg",loading:"lazy"})})}),e.jsx("button",{onClick:d,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-2 z-10","aria-label":"Siguiente",children:"→"}),e.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-2",children:t.map((a,i)=>e.jsx("span",{className:`w-2 h-2 rounded-full ${i===s?"bg-gray-800":"bg-gray-300"}`},i))})]})}function N({proyecto:t}){const[n,s]=l.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg transition-transform duration-300 hover:-translate-y-2",children:[e.jsx("div",{className:"w-full h-64 relative",children:e.jsx("picture",{children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm opacity-90",children:t.category}),e.jsx("button",{className:"mt-4 px-6 py-2 bg-white text-black rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>s(!0),children:"Ver más..."})]})})]}),n&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 relative",children:[e.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-900 text-2xl",onClick:()=>s(!1),"aria-label":"Cerrar",children:"×"}),e.jsx("h4",{className:"text-3xl font-bold mb-4 text-gray-900",children:t.title}),e.jsx("p",{className:"text-2xl font-bold mb-4 text-gray-900",children:t.year}),e.jsx("p",{className:"text-gray-600",children:t.category}),e.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),e.jsx("div",{className:"gap-4",children:t.images&&t.images.length>0&&e.jsx(p,{images:t.images,alt:t.title})})]})})]})}function w({limit:t=null,preview:n=!0}){const[s,o]=l.useState([]),[c,d]=l.useState(!0),[a,i]=l.useState(null),g=f(),x=b().pathname==="/portfolio",h=x?"Nuestros Proyectos":"Proyectos Destacados",m=!x;l.useEffect(()=>{fetch("/data/projects.json").then(r=>{if(!r.ok)throw new Error("Network response was not ok");return r.json()}).then(r=>o(r)).catch(r=>i(r.message)).finally(()=>d(!1))},[]);const j=r=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 pb-10",children:r.map(u=>e.jsx(N,{proyecto:u},u.id))});return c?e.jsx("p",{className:"text-center",children:"Cargando proyectos..."}):a?e.jsxs("p",{className:"text-center text-red-600",children:["Error: ",a]}):s.length?e.jsxs("div",{className:"container mx-auto px-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:h}),j(x?s:s.slice(0,t)),m&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx("button",{onClick:()=>g("/portfolio"),className:"px-6 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors duration-200",children:"Ver Todos los Proyectos"})})]}):e.jsx("p",{className:"text-center",children:"No hay proyectos disponibles."})}export{w as default};
